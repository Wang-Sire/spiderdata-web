<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"><link rel="icon" href="https://jscdn.com.cn/highcharts/images/favicon.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>行业趋势</title>
		<link href="css/Industry_trends.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div id="all">
			<div id="SE">
				<p align="right"><a href="login.html">登录</a>
  			 					 <a href="sign_in.html">注册</a>
  			 	</p>
  			 	<input type="date" style="width: 40%;">
			</div>
			<div id="tag">
				<input type="button" value="Python" class="Python">
				<input type="button" value="Java" class="Java">
				<input type="button" value="C++" class="C_add">
				<input type="button" value="C" class="C">
				<input type="button" value="C#" class="C_sharp">
				<input type="button" value="SQL" class="SQL">
				<input type="button" value="PHP" class="PHP">
				<input type="button" value="R" class="R">
				<input type="button" value="Go" class="Go">	
				<input type="button" value="..." class="more">
			</div>
			<div id="charts">
				<div id="one_storey">
					<script src="https://img.highcharts.com.cn/jquery/jquery-1.8.3.min.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/exporting.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/data.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/series-label.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/oldie.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
					<div id="one_storey_left">
						<h1>1左</h1>
					</div>
					<script>
						var chart = null;
						// 获取 CSV 数据并初始化图表
						$.getJSON('https://data.jianshukeji.com/jsonp?filename=csv/analytics.csv&callback=?', function (csv) {
						    chart = Highcharts.chart('one_storey_left', {
						        data: {
						            csv: csv
						        },
						        title: {
						            text: 'python日常访问量'
						        },
						        subtitle: {
						            text: '数据来源: Google Analytics'
						        },
						        xAxis: {
						            tickInterval: 7 * 24 * 3600 * 1000, // 坐标轴刻度间隔为一星期
						            tickWidth: 0,
						            gridLineWidth: 1,
						            labels: {
						                align: 'left',
						                x: 3,
						                y: -3
						            },
						            // 时间格式化字符
						            // 默认会根据当前的刻度间隔取对应的值，即当刻度间隔为一周时，取 week 值
						            dateTimeLabelFormats: {
						                week: '%Y-%m-%d'
						            }
						        },
						        yAxis: [{ // 第一个 Y 轴，放置在左边（默认在坐标）
						            title: {
						                text: null
						            },
						            labels: {
						                align: 'left',
						                x: 3,
						                y: 16,
						                format: '{value:.,0f}'
						            },
						            showFirstLabel: false
						        }, {    // 第二个坐标轴，放置在右边
						            linkedTo: 0,
						            gridLineWidth: 0,
						            opposite: true,  // 通过此参数设置坐标轴显示在对立面
						            title: {
						                text: null
						            },
						            labels: {
						                align: 'right',
						                x: -3,
						                y: 16,
						                format: '{value:.,0f}'
						            },
						            showFirstLabel: false
						        }],
						        legend: {
						            align: 'left',
						            verticalAlign: 'top',
						            y: 20,
						            floating: true,
						            borderWidth: 0
						        },
						        tooltip: {
						            shared: true,
						            crosshairs: true,
						            // 时间格式化字符
						            // 默认会根据当前的数据点间隔取对应的值
						            // 当前图表中数据点间隔为 1天，所以配置 day 值即可
						            dateTimeLabelFormats: {
						                day: '%Y-%m-%d'
						            }
						        },
						        plotOptions: {
						            series: {
						                cursor: 'pointer',
						                point: {
						                    events: {
						                        // 数据点点击事件
						                        // 其中 e 变量为事件对象，this 为当前数据点对象
						                        click: function (e) {
						                            $('.message').html( Highcharts.dateFormat('%Y-%m-%d', this.x) + ':<br/>  岗位：' +this.y );
						                        }
						                    }
						                },
						                marker: {
						                    lineWidth: 1
						                }
						            }
						        }
						    });
						});

					</script>
					 <script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/exporting.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/series-label.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/oldie.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
					<div id="one_storey_right">
						<h1>1右</h1>
					</div>
					<script>
						var chart = Highcharts.chart('one_storey_right', {
						title: {
								text: '岗位趋势'
						},
						subtitle: {
								text: '数据来源：thesolarfoundation.com'
						},
						yAxis: {
								title: {
										text: '就业人数'
								}
						},
						legend: {
								layout: 'vertical',
								align: 'right',
								verticalAlign: 'middle'
						},
						plotOptions: {
								series: {
										label: {
												connectorAllowed: false
										},
										pointStart: 2012
								}
						},
						series: [{
								name: '数据抓取',
								data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175]
						}, {
								name: '数据分析',
								data: [24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434]
						}, {
								name: '全栈',
								data: [11744, 17722, 16005, 19771, 20185, 24377, 32147, 39387]
						}, {
								name: 'AI',
								data: [null, null, 7988, 12169, 15112, 22452, 34400, 34227]
						}, {
								name: '其他',
								data: [12908, 5948, 8105, 11248, 8989, 11816, 18274, 18111]
						}],
						responsive: {
								rules: [{
										condition: {
												maxWidth: 500
										},
										chartOptions: {
												legend: {
														layout: 'horizontal',
														align: 'center',
														verticalAlign: 'bottom'
												}
										}
								}]
						}
				});
					</script>
				</div>		   
				<div id="two_storey">
					<script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/exporting.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
					<div id="two_storey_left">	
						<h1>2左</h1>
					</div>
					<script>
						var chart = Highcharts.chart('two_storey_left', {
					    chart: {
					        spacing : [40, 0 , 40, 0]
					    },
					    title: {
					        floating:true,
					        text: '岗位工作年限'
					    },
					    tooltip: {
					        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
					    },
					    plotOptions: {
					        pie: {
					            allowPointSelect: true,
					            cursor: 'pointer',
					            dataLabels: {
					                enabled: true,
					                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
					                style: {
					                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
					                }
					            },
					            point: {
					                events: {
					                    mouseOver: function(e) {  // 鼠标滑过时动态更新标题
					                        // 标题更新函数，API 地址：https://api.hcharts.cn/highcharts#Chart.setTitle
					                        chart.setTitle({
					                            text: e.target.name+ '\t'+ e.target.y + ' %'
					                        });
					                    }
					                    //, 
					                    // click: function(e) { // 同样的可以在点击事件里处理
					                    //     chart.setTitle({
					                    //         text: e.point.name+ '\t'+ e.point.y + ' %'
					                    //     });
					                    // }
					                }
					            },
					        }
					    },
					    series: [{
					        type: 'pie',
					        innerSize: '80%',
					        name: '岗位数量',
					        data: [
					            {name:'Firefox',   y: 45.0, url : 'http://bbs.hcharts.cn'},
					            ['IE',       26.8],
					            {
					                name: 'Chrome',
					                y: 12.8,
					                sliced: true,
					                selected: true,
					                url: 'http://www.hcharts.cn'
					            },
					            ['Safari',    8.5],
					            ['Opera',     6.2],
					            ['其他',   0.7]
					        ]
					    }]
					}, function(c) { // 图表初始化完毕后的会掉函数
					    // 环形图圆心
					    var centerY = c.series[0].center[1],
					        titleHeight = parseInt(c.title.styles.fontSize);
					    // 动态设置标题位置
					    c.setTitle({
					        y:centerY + titleHeight/2
					    });
					});
					</script>
					<script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/exporting.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/variable-pie.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
					<div id="two_storey_right">
						<h1>2右</h1>
					</div>
					<script>
						Highcharts.chart('two_storey_right', {
					    chart: {
					        type: 'variablepie'
					    },
					    title: {
					        text: '岗位学历分布'
					    },
					    subtitle: {
					        text: '扇区长度（圆周方法）表示岗位数量，宽度（纵向）表示学历'  
					    },
					    tooltip: {
					        headerFormat: '',
					        pointFormat: '<span style="color:{point.color}">\u25CF</span> <b> {point.name}</b><br/>' +
					        'Python(): <b>{point.y}</b><br/>' +
					        '就业情况(千): <b>{point.z}</b><br/>'
					    },
					    series: [{
					        minPointSize: 10,
					        innerSize: '20%',
					        zMin: 0,
					        name: 'countries',
					        data: [{
					            name: '专科',
					            y: 505370,
					            z: 92.9
					        }, {
					            name: '专硕',
					            y: 551500,
					            z: 118.7
					        }, {
					            name: '学硕',
					            y: 312685,
					            z: 124.6
					        }, {
					            name: '博士',
					            y: 78867,
					            z: 137.5
					        },{
					            name: '本科',
					            y: 357022,
					            z: 235.6
					        }]
					    }]
					});
					</script>
				</div>
				
				<div id="three_storey">
					<script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/modules/exporting.js"></script>
			        <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
			        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
					<div id="three_storey_left">
						<h1>3左</h1>
					</div>
					<script>
						var chart = Highcharts.chart('three_storey_left', {
					    chart: {
					        type: 'column'
					    },
					    title: {
					        text: '岗位工作地点'
					    },
					    subtitle: {
					        text: '数据截止 2019-03，来源: <a href="https://en.wikipedia.org/wiki/List_of_cities_proper_by_population">Wikipedia</a>'
					    },
					    xAxis: {
					        type: 'category',
					        labels: {
					            rotation: -45  // 设置轴标签旋转角度
					        }
					    },
					    yAxis: {
					        min: 0,
					        title: {
					            text: '岗位数量'
					        }
					    },
					    legend: {
					        enabled: false
					    },
					    tooltip: {
					        pointFormat: '人数: <b>{point.y:.1f} 百</b>'
					    },
					    series: [{
					        name: '总人数',
					        data: [
					            ['上海', 24.25],
					            ['北京', 23.50],
					            ['大连', 21.51],
					            ['安装', 16.78],
					            ['拉各斯', 16.06],
					            ['天津', 15.20],
					            ['沈阳', 14.16],
					            ['东京', 13.51],
					            ['广州', 13.08],
					            ['孟买', 12.44],
					            ['莫斯科', 12.19],
					            ['圣保罗', 12.03],
					            ['深圳', 10.46],
					            ['雅加达', 10.07],
					            ['拉合尔', 10.05],
					            ['首尔', 9.99],
					            ['武汉', 9.78],
					            ['金沙萨', 9.73],
					            ['开罗', 9.27],
					            ['新疆', 8.87]
					        ],
					        dataLabels: {
					            enabled: true,
					            rotation: -90,
					            color: '#FFFFFF',
					            align: 'right',
					            format: '{point.y:.1f}', // :.1f 为保留 1 位小数
					            y: 10
					        }
					    }]
					});
					</script>
        <script src="https://img.highcharts.com.cn/highcharts/highcharts.js"></script>
        <script src="https://img.highcharts.com.cn/highcharts/highcharts-more.js"></script>
        <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
        <script src="https://img.highcharts.com.cn/highcharts/themes/dark-unica.js"></script>
		<div id="three_storey_right"></div>

				</div>
			</div>
		</div>
	</body>
</html>
